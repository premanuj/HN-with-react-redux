(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,n){e.exports=n(68)},68:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(27),o=n.n(c),s=n(11),i=n(70),u=n(7),l=n(8),h=n(13),p=n(10),d=n(14),f=n(30),m=n.n(f),g=n(69),v=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},a.a.createElement(g.a,{className:"navbar-brand",to:"/"},"Hacker News"),a.a.createElement("div",{className:"navbar-nav"},a.a.createElement(g.a,{className:"nav-item nav-link active",to:"/"},"Home ",a.a.createElement("span",{className:"sr-only"},"(current)")))))},y=n(0),S=n.n(y),E=n(32),b=n.n(E),O=n(47),j=function(e){e.by;var t=e.kids,n=void 0===t?[]:t,r=e.score,c=e.url,o=e.title,s=e.id,i=e.type,u=e.time;return a.a.createElement(a.a.Fragment,null,a.a.createElement(O.a,{key:s,to:"#",className:"list-group-item list-group-item-action flex-column align-items-start"},a.a.createElement("div",{className:"d-flex w-100 justify-content-between"},a.a.createElement("h5",{className:"mb-1"},o),a.a.createElement("small",null,i)),a.a.createElement("p",{className:"mb-1"},a.a.createElement("small",null,b()(new Date(1e3*u).toISOString()).fromNow()),a.a.createElement("small",null," ","score: ",r," comments: ",n.length)),a.a.createElement("small",null,c)))},I=function(e){function t(){return Object(u.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.stories;return a.a.createElement("div",{className:"list-group"},e.map(function(e){return a.a.createElement(j,Object.assign({key:e.id},e))}))}}]),t}(r.Component);I.propsTypes={stories:S.a.array.isRequired};var T=I,_=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).fetchStories=function(){var e=n.props,t=e.storyIds,r=e.page,a=e.fetchStories;e.isFetching||a({storyIds:t,page:r})},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchStoriesFirstPage()}},{key:"render",value:function(){var e=this.props,t=e.stories,n=e.hasMoreStores;return console.log("Props: ",this.fetchStories),a.a.createElement("div",{className:"App"},a.a.createElement(v,null),console.log(t.length,n),a.a.createElement(m.a,{dataLength:t.length,next:this.fetchStories,hasMore:n,loading:a.a.createElement("h4",null,"Loading...")},a.a.createElement(T,{stories:t})))}}]),t}(r.Component),k=(n(9),"@HNReader/story"),w=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:e,payload:t}}},F=function(e,t){var n=function(e){return{request:w("".concat(e).concat("_REQUEST")),success:w("".concat(e).concat("_SUCCESS")),failure:w("".concat(e).concat("_FAILURE"))}}(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(r){return t({request:n,payload:e,dispatch:r})}}},R=n(33),C=n.n(R),N=Object({NODE_ENV:"production",PUBLIC_URL:"/hn"}).URI||"http:/localhosr:3000",H=2e4,U={"Content-type":"application/json",Accept:"application/json"},D=new(function(){function e(t){var n=t.baseURL,r=void 0===n?N:n,a=t.timeout,c=void 0===a?H:a,o=t.headers,s=void 0===o?U:o,i=t.auth;Object(u.a)(this,e);var l=C.a.create({baseURL:r,timeout:c,headers:s,auth:i});l.interceptors.response.use(this.handleSuccess,this.handleError),this.client=l}return Object(l.a)(e,[{key:"handleSuccess",value:function(e){return e}},{key:"handleError",value:function(e){return Promise.reject(e)}},{key:"get",value:function(e){return this.client.get(e).then(function(e){return e.data})}},{key:"post",value:function(e,t){return this.client.post(e,t).then(function(e){return e.data})}},{key:"patch",value:function(e,t){return this.client.post(e,t).then(function(e){return e.data})}},{key:"delete",value:function(e){return this.client.get(e).then(function(e){return e.data})}}]),e}())({baseURL:"https://hacker-news.firebaseio.com/v0"}),L={};L.getTopStoryIds=function(){return D.get("/topstories".concat(".json?print=pretty"))},L.getStory=function(e){return D.get("/item/".concat(e).concat(".json?print=pretty"))},L.getStoriesByPage=function(e,t){var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{begin:t*e,end:(t+1)*e}}(10,t),r=n.end,a=function(e){var t=e.begin,n=e.end;return e.items.slice(t,n)}({begin:n.begin,end:r,items:e}).map(function(e){return L.getStory(e)});return Promise.all(a)};var P=L,q={FETCH_STORY_IDS:"".concat(k,"/").concat("FETCH_STORY_IDS"),FETCH_STORIES:"".concat(k,"/").concat("FETCH_STORIES")},x={fetchStoryIds:F(q.FETCH_STORY_IDS,function(e){var t=e.request,n=e.payload,r=e.dispatch;return r(t.request(n)),P.getTopStoryIds().then(function(e){return r(t.success({storyIds:e})),r(x.fetchStories({storyIds:e,page:0})),e}).catch(function(e){return r(t.failure(e))})}),fetchStories:F(q.FETCH_STORIES,function(e){var t=e.request,n=e.payload,r=e.dispatch,a=n.storyIds,c=n.page;return r(t.request(n)),P.getStoriesByPage(a,c).then(function(e){return r(t.success({stories:e}))}).catch(function(e){return r(t.failure(e))})})},B=n(34),Y=Object(B.a)([function(e){return e.story.storyIds},function(e){return e.story.stories}],function(e,t){return e.length>t.length}),A=Object(s.b)(function(e){return{stories:e.story.stories,page:e.story.page,storyIds:e.story.storyIds,isFetching:e.story.isFetching,hasMoreStores:Y(e)}},function(e){return{fetchStories:function(t){var n=t.storyIds,r=t.page;return e(x.fetchStories({storyIds:n,page:r}))},fetchStoriesFirstPage:function(){return e(x.fetchStoryIds())}}})(_);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var M=n(6),Q=n(19),J=n(15),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{storyIds:[],stories:[],page:0,isFetching:!1,error:""},t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"".concat(q.FETCH_STORY_IDS).concat("_REQUEST"):case"".concat(q.FETCH_STORIES).concat("_REQUEST"):return Object(J.a)({},e,{isFetching:!0});case"".concat(q.FETCH_STORY_IDS).concat("_SUCCESS"):return Object(J.a)({},e,r);case"".concat(q.FETCH_STORIES).concat("_SUCCESS"):return Object(J.a)({},e,{stories:Object(Q.a)(e.stories).concat(Object(Q.a)(r.stories)),page:e.page+1,isFetching:!1});default:return e}},V=Object(M.c)({story:W}),$=n(35),z=[];z.push($.a);var G=Object(M.d)(M.a.apply(void 0,z),function(e){return e}),K=function(e){return Object(M.e)(V,e,G)};!function(){var e=K({});o.a.render(a.a.createElement(s.a,{store:e},a.a.createElement(i.a,null,a.a.createElement(A,null))),document.getElementById("root"))}(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[36,2,1]]]);
//# sourceMappingURL=main.67e060cb.chunk.js.map